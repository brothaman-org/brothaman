.TH bro-user 1 "October 2025" "Brothaman" "Brothaman User Commands"
.SH NAME
bro-user \- manage unprivileged Brothaman container accounts
.SH SYNOPSIS
.B bro-user
[--system-user] <username>
.br
.B bro-user
--remove <username>
.br
.B bro-user
--help
.br
.B bro-user
--version
.SH DESCRIPTION
.B bro-user
creates or removes unprivileged system accounts tuned for rootless Podman use.
Each account resides under
.IR /var/lib/containers/unprivileged/ ,
backed by a dedicated ZFS dataset with properly configured ACLs, quotas, and
snapshots. The script runs with root privileges and ensures the target user is
integrated with the Brothaman tooling (zfs-helper, systemd lingering, subuid
ranges, user-specific container configuration, and secure umask defaults).

Removal stops lingering services, deletes subuid/subgid mappings, tears down the
per-user dataset, and purges lingering storage state.
.SH OPTIONS
.TP
.B --system-user
Create the user as a system account with
.BR /usr/sbin/nologin .
.TP
.B --remove
Remove the specified account and all managed resources.
.TP
.B --network-cmd VALUE
Override the per-user Podman
.B network_cmd
setting (defaults to
.BR none ).
.TP
.B --no-hello
Skip the Podman hello container verification.
.TP
.B --help
Display usage information and exit.
.TP
.B --version
Display version information and exit.
.SH FILES
.TP
.I /var/lib/containers/unprivileged/
Base directory for Brothaman-managed user homes.
.TP
.I /etc/zfs-helper/policy.d/
Policy directories that grant zfs-helper permissions to the user.
.TP
.I ~/.config/containers/
User-specific Podman configuration generated by the script.
.SH SEE ALSO
.BR bro-volume (1),
.BR bro-activator (1),
.BR zfs-helperctl (8),
.BR podman (1)
.SH AUTHORS
Brothaman Project
