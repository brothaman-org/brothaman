# Directions

1. Create a `${major}.${minor}.${micro}` component based version comparison function in the common library to compare version numbers. It takes two version arguments. If the first is higher and more recent it returns 1. If the second is higher and more recent it returns -1. If both are the same it returns 0. **WARNING**: make sure comparisons are not lexical but numeric value based on all components. This will be used to compare installed versions against what is available using the ALVISTACK_VERSION.

2. Always favor of the `alvistack` to install from OpenSuse instead of the distributions packaged podman. The `bro-install` installer script (which also uninstalls) first checks if the `alvistack` package repository is setup with its keys. If not, any existing podman is removed and the repository is installed. If the repository is already setup, the installer script checks if podman is installed, and if so, the installer script checks the installed version to see if it is above or equal to ALVISTACK_VERSION. If the installed version is lower, it is removed and podman is reinstalled from the `alvistack` repository.

3. The use of CoW filesystems for backing stores will be optional and an independent axis of operation. The script uses whatever it finds (ZFS, BTRFS, or none). Right now in the last `rootless-podman` script, if ZFS is not present, no backing store is used for user homes under the USER_HOME_BASE which is a good fallback behavior. Without CoW backing stores, users miss out on leveraging snapshotting features for various operations, but things still work.

>**NOTE**: it turns out, the quadlet generated by chatgpt for the postgres container is faulty and not the podman installation. I tried a minimal quadlet and it worked. Let us incorporate that into the training and progression towards the final brothaman configuration.
